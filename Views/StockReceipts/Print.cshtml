@model IEnumerable<MNBEMART.Models.StockReceipt>
@{
    Layout = null;
}
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>In danh sách phiếu nhập</title>
  <style>
    body{font-family:system-ui,Segoe UI,Arial,sans-serif;font-size:12px;color:#111}
    table{border-collapse:collapse;width:100%}
    th,td{border:1px solid #ccc;padding:6px}
    th{background:#f3f4f6;text-transform:uppercase;font-size:11px}
    .mono{font-family:ui-monospace,Consolas,monospace}
@@media print{ .noprint{display:none} }
  </style>
</head>
<body>
  <div class="noprint" style="margin-bottom:10px">
    <button onclick="window.print()">In</button>
  </div>
  <h3 style="margin:0 0 10px 0">Danh sách phiếu nhập</h3>
  <table>
    <thead>
      <tr>
        <th>Mã phiếu</th>
        <th>Kho</th>
        <th>Người tạo</th>
        <th>Ngày</th>
        <th>SL</th>
        <th>Thành tiền</th>
        <th>Trạng thái</th>
      </tr>
    </thead>
    <tbody>
    @foreach (var r in Model)
    {
        var qty = r.Details?.Sum(d => (decimal)d.Quantity) ?? 0m;
        var amt = r.Details?.Sum(d => (decimal)d.Quantity * d.UnitPrice) ?? 0m;
        <tr>
          <td class="mono">@r.ReceiptNumber</td>
          <td>@r.Warehouse?.Name</td>
          <td>@r.CreatedBy?.FullName</td>
          <td>@r.CreatedAt.ToString("dd/MM/yyyy HH:mm")</td>
          <td class="mono">@qty</td>
          <td class="mono">@amt.ToString("n0")</td>
          <td>@r.Status</td>
        </tr>
    }
    </tbody>
  </table>
</body>
</html>
