@{
    ViewData["Title"] = SR["Dashboard_Title"];

    // Numbers
    int totalMaterials = ViewBag.TotalMaterials as int? ?? 0;
    int totalWarehouses = ViewBag.TotalWarehouses as int? ?? 0;
    int totalReceipts = ViewBag.TotalReceipts as int? ?? 0;
    int totalIssues = ViewBag.TotalIssues as int? ?? 0;
    int totalUsers = ViewBag.TotalUsers as int? ?? 0;
    decimal totalStocks = ViewBag.TotalStocks as decimal? ?? 0m;
    
    // Lot tracking data
    int totalLots = ViewBag.TotalLots as int? ?? 0;
    int expiredLots = ViewBag.ExpiredLots as int? ?? 0;
    int expiringSoonLots = ViewBag.ExpiringSoonLots as int? ?? 0;
    var expiringLots = ViewBag.ExpiringLots as IEnumerable<dynamic>;

    // Other data
    var lowStock = ViewBag.LowStock as IEnumerable<dynamic>;
    var recentReceipts = ViewBag.RecentReceipts as IEnumerable<dynamic>;
    var recentIssues = ViewBag.RecentIssues as IEnumerable<dynamic>;
    var stockByWh = ViewBag.StockByWarehouse as IEnumerable<dynamic>;
    var stockoutPredictions = ViewBag.StockoutPredictions as IEnumerable<dynamic>;
    
    // Helpers
    string FQty(decimal v) => (v % 1m == 0m) ? ((long)v).ToString("N0") : v.ToString("N2");
    string FAmount(decimal v) => v.ToString("N0") + " đ";
    
    Func<int, string> StatusBadge = s => s switch {
        0 => "inline-flex items-center px-2.5 py-1 rounded-md text-xs font-semibold bg-slate-100 text-slate-700 border border-slate-200",
        1 => "inline-flex items-center px-2.5 py-1 rounded-md text-xs font-semibold bg-amber-50 text-amber-700 border border-amber-200",
        2 => "inline-flex items-center px-2.5 py-1 rounded-md text-xs font-semibold bg-emerald-50 text-emerald-700 border border-emerald-200",
        3 => "inline-flex items-center px-2.5 py-1 rounded-md text-xs font-semibold bg-rose-50 text-rose-700 border border-rose-200",
        _ => "inline-flex items-center px-2.5 py-1 rounded-md text-xs font-semibold bg-slate-100 text-slate-700 border border-slate-200"
    };

    Func<int, string> StatusText = s => s switch {
        0 => "Mới", 1 => "Đã xác nhận", 2 => "Hoàn thành", 3 => "Đã hủy",
        _ => "Không xác định"
    };

    var maxStock = stockByWh != null && stockByWh.Any() ? (decimal)stockByWh.Max(x => (decimal)(x.Qty ?? 0m)) : 0m;
}

<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">

<style>
    * { 
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; 
        letter-spacing: -0.01em;
    }
    
    /* Enhanced Card Design with Glassmorphism */
    .stat-card { 
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1); 
        backdrop-filter: blur(10px);
        background: rgba(255, 255, 255, 0.95);
    }
    .stat-card:hover { 
        transform: translateY(-6px) scale(1.02); 
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.15), 
                    0 0 0 1px rgba(255, 255, 255, 0.5);
    }
    
    /* Professional Color Gradients */
    .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
    .gradient-cyan { background: linear-gradient(135deg, #0891b2 0%, #06b6d4 100%); }
    .gradient-emerald { background: linear-gradient(135deg, #059669 0%, #10b981 100%); }
    .gradient-amber { background: linear-gradient(135deg, #d97706 0%, #f59e0b 100%); }
    .gradient-rose { background: linear-gradient(135deg, #e11d48 0%, #f43f5e 100%); }
    
    /* Refined Animations */
    .animate-pulse-slow { animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
    
    @@keyframes slideInUp {
        from { opacity: 0; transform: translateY(30px); }
        to { opacity: 1; transform: translateY(0); }
    }
    
    @@keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }
    
    @@keyframes scaleIn {
        from { opacity: 0; transform: scale(0.95); }
        to { opacity: 1; transform: scale(1); }
    }
    
    .slide-in { 
        animation: slideInUp 0.6s cubic-bezier(0.16, 1, 0.3, 1);
    }
    
    .fade-in {
        animation: fadeIn 0.8s ease-out;
    }
    
    .scale-in {
        animation: scaleIn 0.5s cubic-bezier(0.16, 1, 0.3, 1);
    }
    
    /* Enhanced Typography */
    h1, h2, h3 {
        font-weight: 700;
        letter-spacing: -0.025em;
    }
    
    /* Professional Shadows */
    .shadow-professional {
        box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.08),
                    0 1px 2px 0 rgba(0, 0, 0, 0.06);
    }
    
    .shadow-professional-lg {
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1),
                    0 4px 6px -2px rgba(0, 0, 0, 0.05);
    }
    
    /* Smooth Transitions */
    * {
        transition-property: color, background-color, border-color, transform, box-shadow;
        transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
        transition-duration: 200ms;
    }
    
    /* Chart Container Enhancement */
    .chart-container {
        background: linear-gradient(135deg, rgba(249, 250, 251, 0.8) 0%, rgba(241, 245, 249, 0.6) 100%);
        border-radius: 1rem;
        padding: 1.5rem;
    }
</style>

<div class="min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 via-green-50/50 to-emerald-50/40 relative overflow-hidden fade-in">
    <!-- Background Pattern -->
    <div class="absolute inset-0 opacity-[0.03]" style="background-image: radial-gradient(circle at 2px 2px, rgb(0,0,0) 1px, transparent 0); background-size: 40px 40px;"></div>
    
    <!-- Header -->
    <div class="bg-white/90 backdrop-blur-xl border-b border-slate-200/80 sticky top-0 z-50 shadow-professional-lg relative">
        <div class="max-w-[1600px] mx-auto px-6 lg:px-8">
            <div class="flex items-center justify-between h-24">
                <div class="flex items-center space-x-5 scale-in">
                    <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-green-500 via-emerald-500 to-teal-600 flex items-center justify-center shadow-lg shadow-green-500/40 ring-4 ring-green-500/10">
                        <i class="bi bi-speedometer2 text-white text-xl"></i>
                    </div>
                    <div>
                        <h1 class="text-3xl font-extrabold text-slate-900 tracking-tight leading-tight">@SR["Dashboard_Title"]</h1>
                        <p class="text-sm text-slate-600 flex items-center gap-2 mt-1 font-medium">
                            <i class="bi bi-calendar3 text-xs text-emerald-600"></i>
                            <span>@DateTime.Now.ToString("dddd, dd/MM/yyyy HH:mm")</span>
                        </p>
                    </div>
                </div>
                <div class="hidden lg:flex items-center gap-4">
                    <a asp-controller="Reports" asp-action="Inventory" 
                       class="inline-flex items-center gap-2 px-6 py-3 rounded-xl text-sm font-semibold text-slate-700 bg-white/80 backdrop-blur-sm border border-slate-200/80 hover:bg-emerald-50 hover:border-emerald-300 hover:text-emerald-700 transition-all shadow-professional hover:shadow-professional-lg hover:scale-105">
                        <i class="bi bi-graph-up-arrow"></i>
                        <span>@SR["Nav_Reports_Inventory"]</span>
                    </a>
                    <a asp-controller="Materials" asp-action="Index" 
                       class="inline-flex items-center gap-2 px-6 py-3 rounded-xl text-sm font-bold text-white bg-gradient-to-r from-green-600 via-emerald-600 to-teal-600 hover:from-green-700 hover:via-emerald-700 hover:to-teal-700 transition-all shadow-lg shadow-green-500/40 hover:shadow-xl hover:shadow-green-500/50 hover:scale-105">
                        <i class="bi bi-boxes"></i>
                        <span>@SR["Nav_Materials"]</span>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <div class="max-w-[1600px] mx-auto px-6 lg:px-8 py-10 space-y-10 relative">
        <!-- KPI Cards -->
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 scale-in">
            <!-- Nguyên liệu -->
            <a asp-controller="Materials" asp-action="Index" class="stat-card bg-white/95 backdrop-blur-sm rounded-2xl p-7 border border-slate-200/80 shadow-professional overflow-hidden relative group block cursor-pointer hover:opacity-90 transition-opacity">
                <div class="absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-green-500/10 to-emerald-600/5 rounded-full blur-2xl -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"></div>
                <div class="relative z-10 flex items-start justify-between">
                    <div class="space-y-4 flex-1">
                        <div class="inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-green-500 to-emerald-600 shadow-lg shadow-green-500/40 ring-4 ring-green-500/10">
                            <i class="bi bi-boxes text-white text-2xl"></i>
                        </div>
                        <div>
                            <p class="text-xs font-bold text-slate-500 uppercase tracking-widest mb-2">@SR["Dashboard_Materials"]</p>
                            <p class="text-5xl font-extrabold text-slate-900 tracking-tight leading-none">@totalMaterials.ToString("N0")</p>
                        </div>
                    </div>
                    <div class="flex items-center justify-center w-11 h-11 rounded-xl bg-gradient-to-br from-green-50 to-emerald-50 group-hover:from-green-100 group-hover:to-emerald-100 transition-all">
                        <i class="bi bi-arrow-up-right text-green-600 text-xl"></i>
                    </div>
                </div>
            </a>

            <!-- Kho hàng -->
            <a asp-controller="Warehouses" asp-action="Index" class="stat-card bg-white/95 backdrop-blur-sm rounded-2xl p-7 border border-slate-200/80 shadow-professional overflow-hidden relative group block cursor-pointer hover:opacity-90 transition-opacity">
                <div class="absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-purple-500/10 to-indigo-600/5 rounded-full blur-2xl -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"></div>
                <div class="relative z-10 flex items-start justify-between">
                    <div class="space-y-4 flex-1">
                        <div class="inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-purple-500 to-indigo-600 shadow-lg shadow-purple-500/40 ring-4 ring-purple-500/10">
                            <i class="bi bi-buildings text-white text-2xl"></i>
                        </div>
                        <div>
                            <p class="text-xs font-bold text-slate-500 uppercase tracking-widest mb-2">@SR["Dashboard_Warehouses"]</p>
                            <p class="text-5xl font-extrabold text-slate-900 tracking-tight leading-none">@totalWarehouses.ToString("N0")</p>
                        </div>
                    </div>
                    <div class="flex items-center justify-center w-11 h-11 rounded-xl bg-gradient-to-br from-purple-50 to-indigo-50 group-hover:from-purple-100 group-hover:to-indigo-100 transition-all">
                        <i class="bi bi-building text-purple-600 text-xl"></i>
                    </div>
                </div>
            </a>

            <!-- Phiếu nhập -->
            <a asp-controller="StockReceipts" asp-action="Index" class="stat-card bg-white/95 backdrop-blur-sm rounded-2xl p-7 border border-slate-200/80 shadow-professional overflow-hidden relative group block cursor-pointer hover:opacity-90 transition-opacity">
                <div class="absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-emerald-500/10 to-teal-600/5 rounded-full blur-2xl -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"></div>
                <div class="relative z-10 flex items-start justify-between">
                    <div class="space-y-4 flex-1">
                        <div class="inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-emerald-500 to-teal-600 shadow-lg shadow-emerald-500/40 ring-4 ring-emerald-500/10">
                            <i class="bi bi-arrow-down-circle text-white text-2xl"></i>
                        </div>
                        <div>
                            <p class="text-xs font-bold text-slate-500 uppercase tracking-widest mb-2">@SR["Dashboard_Receipts"]</p>
                            <p class="text-5xl font-extrabold text-slate-900 tracking-tight leading-none">@totalReceipts.ToString("N0")</p>
                        </div>
                    </div>
                    <div class="flex items-center justify-center w-11 h-11 rounded-xl bg-gradient-to-br from-emerald-50 to-teal-50 group-hover:from-emerald-100 group-hover:to-teal-100 transition-all">
                        <i class="bi bi-graph-up text-emerald-600 text-xl"></i>
                    </div>
                </div>
            </a>

            <!-- Phiếu xuất -->
            <a asp-controller="StockIssues" asp-action="Index" class="stat-card bg-white/95 backdrop-blur-sm rounded-2xl p-7 border border-slate-200/80 shadow-professional overflow-hidden relative group block cursor-pointer hover:opacity-90 transition-opacity">
                <div class="absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-orange-500/10 to-amber-600/5 rounded-full blur-2xl -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"></div>
                <div class="relative z-10 flex items-start justify-between">
                    <div class="space-y-4 flex-1">
                        <div class="inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-orange-500 to-amber-600 shadow-lg shadow-orange-500/40 ring-4 ring-orange-500/10">
                            <i class="bi bi-arrow-up-circle text-white text-2xl"></i>
                        </div>
                        <div>
                            <p class="text-xs font-bold text-slate-500 uppercase tracking-widest mb-2">@SR["Dashboard_Issues"]</p>
                            <p class="text-5xl font-extrabold text-slate-900 tracking-tight leading-none">@totalIssues.ToString("N0")</p>
                        </div>
                    </div>
                    <div class="flex items-center justify-center w-11 h-11 rounded-xl bg-gradient-to-br from-orange-50 to-amber-50 group-hover:from-orange-100 group-hover:to-amber-100 transition-all">
                        <i class="bi bi-graph-down text-orange-600 text-xl"></i>
                    </div>
                </div>
            </a>
        </div>

        <!-- Inventory & Lot Stats -->
        <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6">
            <!-- Tổng tồn kho -->
            <a asp-controller="Stocks" asp-action="Index" class="stat-card rounded-2xl p-7 bg-white/95 backdrop-blur-sm border-2 border-cyan-200/60 shadow-professional overflow-hidden relative group block cursor-pointer hover:opacity-90 transition-opacity">
                <div class="absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-cyan-500/10 to-sky-500/5 rounded-full blur-2xl -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"></div>
                <div class="relative z-10">
                    <div class="flex items-center justify-between mb-3">
                        <div class="flex items-center gap-4">
                            <div class="flex items-center justify-center w-14 h-14 rounded-2xl bg-gradient-to-br from-cyan-500 to-sky-500 text-white shadow-lg shadow-cyan-500/40 ring-4 ring-cyan-500/10">
                                <i class="bi bi-archive-fill text-xl"></i>
                            </div>
                            <div>
                                <p class="text-xs font-bold text-slate-500 uppercase tracking-widest">@SR["Dashboard_TotalStock"]</p>
                                <p class="text-5xl font-extrabold text-slate-900 leading-tight mt-1">@FQty(totalStocks)</p>
                            </div>
                        </div>
                        <span class="inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-cyan-50 text-cyan-700 text-xs font-bold border border-cyan-200/80">
                            <i class="bi bi-check2-circle"></i>
                            Tổng
                        </span>
                    </div>
                    <div class="mt-3 text-xs text-slate-600 font-semibold">Tất cả kho hàng</div>
                </div>
            </a>

            <!-- Tổng số lô -->
            <a asp-controller="Lots" asp-action="Index" class="stat-card bg-white/95 backdrop-blur-sm rounded-2xl p-7 border-2 border-green-200/60 shadow-professional overflow-hidden relative group block cursor-pointer hover:opacity-90 transition-opacity">
                <div class="absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-green-500/10 to-emerald-500/5 rounded-full blur-2xl -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"></div>
                <div class="relative z-10">
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center justify-center w-14 h-14 rounded-2xl bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-200/60">
                            <i class="bi bi-tags-fill text-green-600 text-2xl"></i>
                        </div>
                        <span class="px-3 py-1.5 rounded-full bg-green-50 text-green-700 text-xs font-bold border border-green-200/80">@SR["Dashboard_TotalLots"]</span>
                    </div>
                    <div>
                        <p class="text-xs font-bold text-slate-500 uppercase tracking-widest">@SR["Dashboard_TotalLots"]</p>
                        <p class="text-5xl font-extrabold text-slate-900 mt-2 tracking-tight leading-tight">@totalLots.ToString("N0")</p>
                        <p class="text-xs text-slate-600 mt-2 font-semibold">Đang quản lý</p>
                    </div>
                </div>
            </a>

            <!-- Lô sắp hết hạn -->
            <a asp-controller="Lots" asp-action="Index" asp-route-status="expiring" class="stat-card bg-gradient-to-br from-amber-50/95 to-orange-50/95 backdrop-blur-sm rounded-2xl p-7 border-2 border-amber-300/60 shadow-professional overflow-hidden relative group block cursor-pointer hover:opacity-90 transition-opacity">
                <div class="absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-amber-500/10 to-orange-500/5 rounded-full blur-2xl -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"></div>
                <div class="relative z-10">
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center justify-center w-14 h-14 rounded-2xl bg-amber-100/80 border-2 border-amber-300/60">
                            <i class="bi bi-exclamation-triangle-fill text-amber-600 text-2xl animate-pulse-slow"></i>
                        </div>
                        <span class="px-3 py-1.5 rounded-full bg-amber-100/80 text-amber-700 text-xs font-bold border border-amber-300/60">Cảnh báo</span>
                    </div>
                    <div>
                        <p class="text-xs font-bold text-amber-700 uppercase tracking-widest">Sắp hết hạn</p>
                        <p class="text-5xl font-extrabold text-amber-900 mt-2 tracking-tight leading-tight">@expiringSoonLots.ToString("N0")</p>
                        <p class="text-xs text-amber-700 mt-2 font-semibold">≤ 30 ngày • Cần xử lý</p>
                    </div>
                </div>
            </a>

            <!-- Lô đã hết hạn -->
            <a asp-controller="Lots" asp-action="Index" class="stat-card bg-gradient-to-br from-rose-50/95 to-red-50/95 backdrop-blur-sm rounded-2xl p-7 border-2 border-rose-300/60 shadow-professional overflow-hidden relative group block cursor-pointer hover:opacity-90 transition-opacity">
                <div class="absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-rose-500/10 to-red-500/5 rounded-full blur-2xl -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"></div>
                <div class="relative z-10">
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center justify-center w-14 h-14 rounded-2xl bg-rose-100/80 border-2 border-rose-300/60">
                            <i class="bi bi-x-octagon-fill text-rose-600 text-2xl"></i>
                        </div>
                        <span class="px-3 py-1.5 rounded-full bg-rose-100/80 text-rose-700 text-xs font-bold border border-rose-300/60">Khẩn cấp</span>
                    </div>
                    <div>
                        <p class="text-xs font-bold text-rose-700 uppercase tracking-widest">Đã hết hạn</p>
                        <p class="text-5xl font-extrabold text-rose-900 mt-2 tracking-tight leading-tight">@expiredLots.ToString("N0")</p>
                        <p class="text-xs text-rose-700 mt-2 font-semibold">Cần xử lý ngay</p>
                    </div>
                </div>
            </a>
        </div>

        <!-- Charts Section -->
        <div class="grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6">
            <!-- Trends Chart -->
            <div class="lg:col-span-2 bg-white/95 backdrop-blur-sm rounded-2xl border border-slate-200/80 shadow-professional-lg overflow-hidden slide-in">
                <div class="px-8 pt-6 pb-4 border-b border-slate-100 bg-gradient-to-r from-slate-50/50 to-transparent">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="text-xl font-extrabold text-slate-900 tracking-tight">Xu hướng nhập/xuất 30 ngày</h3>
                            <p class="text-sm text-slate-600 mt-1.5 font-medium">Biểu đồ số lượng nhập và xuất kho</p>
                        </div>
                        <div class="flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-emerald-50 to-green-50 border border-emerald-100">
                            <i class="bi bi-graph-up text-emerald-600 text-xl"></i>
                        </div>
                    </div>
                </div>
                <div class="p-6">
                    <div class="chart-container" style="height: 320px;">
                        <canvas id="trendsChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Distribution Chart -->
            <div class="bg-white/95 backdrop-blur-sm rounded-2xl border border-slate-200/80 shadow-professional-lg overflow-hidden slide-in">
                <div class="px-8 pt-6 pb-4 border-b border-slate-100 bg-gradient-to-r from-purple-50/50 to-transparent">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="text-xl font-extrabold text-slate-900 tracking-tight">Phân bố tồn kho</h3>
                            <p class="text-sm text-slate-600 mt-1.5 font-medium">Theo kho hàng</p>
                        </div>
                        <div class="flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-purple-50 to-indigo-50 border border-purple-100">
                            <i class="bi bi-pie-chart text-purple-600 text-xl"></i>
                        </div>
                    </div>
                </div>
                <div class="p-6">
                    <div class="chart-container" style="height: 320px;">
                        <canvas id="distributionChart"></canvas>
                    </div>
                </div>
            </div>

        </div>

        <!-- Main Content -->
        <div class="grid grid-cols-1 xl:grid-cols-3 gap-8 items-stretch">
            <!-- Left Column (2/3) -->
            <div class="xl:col-span-2 space-y-8">
                <!-- Stockout Predictions Alert (AI) -->
                @if (stockoutPredictions != null && stockoutPredictions.Any())
                {
                    <div class="bg-white rounded-2xl border-l-4 border-orange-500 shadow-lg overflow-hidden slide-in">
                        <div class="bg-gradient-to-r from-orange-50 via-amber-50 to-yellow-50 px-8 py-6 border-b border-orange-100">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center gap-4">
                                    <div class="flex items-center justify-center w-14 h-14 rounded-xl bg-orange-100 border-2 border-orange-200">
                                        <i class="bi bi-robot text-orange-600 text-2xl"></i>
                                    </div>
                                    <div>
                                        <h3 class="text-xl font-black text-orange-900">Cảnh báo thiếu hàng (AI dự đoán)</h3>
                                        <p class="text-sm text-orange-700 font-medium mt-1">
                                            <i class="bi bi-info-circle mr-1"></i>
                                            Dự đoán dựa trên lịch sử xuất kho và tồn hiện tại
                                        </p>
                                    </div>
                                </div>
                                <a asp-controller="Materials" asp-action="Index" 
                                   class="inline-flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-bold text-orange-700 bg-white border-2 border-orange-200 hover:bg-orange-50 transition-all">
                                    <span>Xem chi tiết</span>
                                    <i class="bi bi-arrow-right"></i>
                                </a>
                            </div>
                        </div>
                        <div class="p-8">
                            <div class="overflow-x-auto">
                                <table class="w-full">
                                    <thead>
                                        <tr class="border-b-2 border-slate-200">
                                            <th class="pb-4 pr-6 text-left text-xs font-bold text-slate-600 uppercase tracking-wider">Nguyên liệu</th>
                                            <th class="pb-4 px-6 text-left text-xs font-bold text-slate-600 uppercase tracking-wider">Kho</th>
                                            <th class="pb-4 px-6 text-right text-xs font-bold text-slate-600 uppercase tracking-wider">Tồn hiện tại</th>
                                            <th class="pb-4 px-6 text-right text-xs font-bold text-slate-600 uppercase tracking-wider">Dự đoán hết</th>
                                            <th class="pb-4 px-6 text-right text-xs font-bold text-slate-600 uppercase tracking-wider">SL đề xuất</th>
                                            <th class="pb-4 pl-6 text-center text-xs font-bold text-slate-600 uppercase tracking-wider">Mức độ</th>
                                        </tr>
                                    </thead>
                                    <tbody class="divide-y divide-slate-100">
                                        @foreach (var pred in stockoutPredictions)
                                        {
                                            var riskColor = pred.RiskLevel switch {
                                                "Critical" => "bg-red-100 text-red-800 border-red-200",
                                                "High" => "bg-orange-100 text-orange-800 border-orange-200",
                                                "Medium" => "bg-amber-100 text-amber-800 border-amber-200",
                                                _ => "bg-yellow-100 text-yellow-800 border-yellow-200"
                                            };
                                            var rowBg = pred.RiskLevel switch {
                                                "Critical" => "bg-red-50/80",
                                                "High" => "bg-orange-50/80",
                                                "Medium" => "bg-amber-50/50",
                                                _ => "bg-yellow-50/50"
                                            };
                                            <tr class="@rowBg hover:bg-opacity-100 transition-all group">
                                                <td class="py-5 pr-6">
                                                    <div>
                                                        <p class="text-sm font-bold text-slate-900 group-hover:text-orange-600 transition-colors">@pred.MaterialName</p>
                                                        <p class="text-xs text-slate-500 mt-1 font-mono">@pred.MaterialCode</p>
                                                    </div>
                                                </td>
                                                <td class="py-5 px-6">
                                                    <span class="text-sm font-semibold text-slate-700">@pred.WarehouseName</span>
                                                </td>
                                                <td class="py-5 px-6 text-right">
                                                    <span class="text-lg font-black text-slate-900">@FQty(pred.CurrentStock)</span>
                                                </td>
                                                <td class="py-5 px-6 text-right">
                                                    <div>
                                                        <span class="text-sm font-bold text-orange-600">@(pred.PredictedStockoutDate != null ? ((DateTime)pred.PredictedStockoutDate).ToString("dd/MM/yyyy") : "-")</span>
                                                        <div class="text-xs text-slate-500">Còn @pred.DaysUntilStockout ngày</div>
                                                    </div>
                                                </td>
                                                <td class="py-5 px-6 text-right">
                                                    <span class="text-sm font-semibold text-green-600">@FQty(pred.RecommendedOrderQuantity)</span>
                                                </td>
                                                <td class="py-5 pl-6 text-center">
                                                    <span class="inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-bold border-2 @riskColor">
                                                        @pred.RiskLevel
                                                    </span>
                                                </td>
                                            </tr>
                                        }
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                }
                else
                {
                    <!-- Thông báo khi không có dữ liệu cảnh báo thiếu hàng -->
                    <div class="bg-white rounded-2xl border-l-4 border-slate-300 shadow-sm p-6">
                        <div class="flex items-center gap-4">
                            <div class="flex items-center justify-center w-12 h-12 rounded-xl bg-slate-100">
                                <i class="bi bi-info-circle text-slate-400 text-2xl"></i>
                            </div>
                            <div>
                                <h3 class="text-lg font-semibold text-slate-600">Cảnh báo thiếu hàng (AI dự đoán)</h3>
                                <p class="text-sm text-slate-500 mt-1">
                                    Hiện tại không có nguyên liệu nào có nguy cơ thiếu hàng trong 14 ngày tới.
                                </p>
                            </div>
                        </div>
                    </div>
                }

                <!-- Expiring Lots Alert -->
                @if (expiringLots != null && expiringLots.Any())
                {
                    <div class="bg-white rounded-2xl border-l-4 border-rose-500 shadow-lg overflow-hidden slide-in">
                        <div class="bg-gradient-to-r from-rose-50 via-red-50 to-orange-50 px-8 py-6 border-b border-rose-100">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center gap-4">
                                    <div class="flex items-center justify-center w-14 h-14 rounded-xl bg-rose-100 border-2 border-rose-200">
                                        <i class="bi bi-exclamation-triangle-fill text-rose-600 text-2xl animate-pulse-slow"></i>
                                    </div>
                                    <div>
                                        <h3 class="text-xl font-black text-rose-900">Cảnh báo lô hàng hết hạn</h3>
                                        <p class="text-sm text-rose-700 font-medium mt-1">
                                            <i class="bi bi-info-circle mr-1"></i>
                                            Xử lý ưu tiên theo nguyên tắc FEFO (First Expired, First Out)
                                        </p>
                                    </div>
                                </div>
                                <a asp-controller="Reports" asp-action="Inventory" 
                                   class="inline-flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-bold text-rose-700 bg-white border-2 border-rose-200 hover:bg-rose-50 transition-all">
                                    <span>Xem báo cáo đầy đủ</span>
                                    <i class="bi bi-arrow-right"></i>
                                </a>
                            </div>
                        </div>
                        <div class="p-8">
                            <div class="overflow-x-auto">
                                <table class="w-full">
                                    <thead>
                                        <tr class="border-b-2 border-slate-200">
                                            <th class="pb-4 pr-6 text-left text-xs font-bold text-slate-600 uppercase tracking-wider">Số lô</th>
                                            <th class="pb-4 px-6 text-left text-xs font-bold text-slate-600 uppercase tracking-wider">Nguyên liệu</th>
                                            <th class="pb-4 px-6 text-left text-xs font-bold text-slate-600 uppercase tracking-wider">Kho</th>
                                            <th class="pb-4 px-6 text-right text-xs font-bold text-slate-600 uppercase tracking-wider">Số lượng</th>
                                            <th class="pb-4 px-6 text-center text-xs font-bold text-slate-600 uppercase tracking-wider">NSX</th>
                                            <th class="pb-4 px-6 text-center text-xs font-bold text-slate-600 uppercase tracking-wider">HSD</th>
                                            <th class="pb-4 pl-6 text-center text-xs font-bold text-slate-600 uppercase tracking-wider">Trạng thái</th>
                                        </tr>
                                    </thead>
                                    <tbody class="divide-y divide-slate-100">
                                        @foreach (var lot in expiringLots)
                                        {
                                            int daysLeft = lot.DaysLeft;
                                            var rowBg = daysLeft < 0 ? "bg-rose-50/80" : daysLeft <= 7 ? "bg-orange-50/80" : "bg-amber-50/50";
                                            var badgeClass = daysLeft < 0 ? "bg-rose-100 text-rose-800 border-rose-200" : daysLeft <= 7 ? "bg-orange-100 text-orange-800 border-orange-200" : "bg-amber-100 text-amber-800 border-amber-200";
                                            var statusText = daysLeft < 0 ? "Đã hết hạn" : $"Còn {daysLeft} ngày";
                                            
                                            <tr class="@rowBg hover:bg-opacity-100 transition-all group">
                                                <td class="py-5 pr-6">
                                                    <span class="inline-flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-bold bg-blue-600 text-white shadow-sm">
                                                        <i class="bi bi-tag-fill"></i>
                                                        <span>@(lot.LotNumber ?? "N/A")</span>
                                                    </span>
                                                </td>
                                                <td class="py-5 px-6">
                                                    <div>
                                                        <p class="text-sm font-bold text-slate-900 group-hover:text-green-600 transition-colors">@lot.MaterialName</p>
                                                        <p class="text-xs text-slate-500 mt-1 font-mono">@lot.MaterialCode</p>
                                                    </div>
                                                </td>
                                                <td class="py-5 px-6">
                                                    <div class="flex items-center gap-2">
                                                        <div class="flex items-center justify-center w-8 h-8 rounded-lg bg-slate-100">
                                                            <i class="bi bi-building text-slate-600 text-sm"></i>
                                                        </div>
                                                        <span class="text-sm font-semibold text-slate-700">@lot.WarehouseName</span>
                                                    </div>
                                                </td>
                                                <td class="py-5 px-6 text-right">
                                                    <div class="inline-flex items-baseline gap-1">
                                                        <span class="text-lg font-black text-slate-900">@FQty(lot.Quantity)</span>
                                                        <span class="text-xs font-semibold text-slate-500">@lot.Unit</span>
                                                    </div>
                                                </td>
                                                <td class="py-5 px-6 text-center">
                                                    <span class="text-sm font-semibold text-slate-600">
                                                        @(lot.ManufactureDate != null ? ((DateTime)lot.ManufactureDate).ToString("dd/MM/yy") : "-")
                                                    </span>
                                                </td>
                                                <td class="py-5 px-6 text-center">
                                                    <span class="text-sm font-black @(daysLeft < 0 ? "text-rose-600" : "text-slate-900")">
                                                        @(lot.ExpiryDate != null ? ((DateTime)lot.ExpiryDate).ToString("dd/MM/yyyy") : "-")
                                                    </span>
                                                </td>
                                                <td class="py-5 pl-6 text-center">
                                                    <span class="inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-bold border-2 @badgeClass">
                                                        @if (daysLeft < 0)
                                                        {
                                                            <i class="bi bi-x-circle-fill"></i>
                                                        }
                                                        else
                                                        {
                                                            <i class="bi bi-exclamation-triangle-fill"></i>
                                                        }
                                                        <span>@statusText</span>
                                                    </span>
                                                </td>
                                            </tr>
                                        }
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                }

                <!-- Low Stock Alert (compact) -->
                <div class="bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden">
                    <div class="px-6 py-5 border-b border-slate-200 bg-gradient-to-r from-slate-50 to-transparent">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center gap-3">
                                <div class="flex items-center justify-center w-10 h-10 rounded-xl bg-amber-100">
                                    <i class="bi bi-exclamation-triangle text-amber-600"></i>
                                </div>
                                <h3 class="text-base font-black text-slate-900">Cảnh báo tồn kho thấp</h3>
                            </div>
                            <a asp-controller="Materials" asp-action="Index" class="text-xs font-bold text-green-600 hover:text-green-700">Xem tất cả →</a>
                        </div>
                    </div>
                    <div class="p-6">
                        @{ var lowTop = lowStock != null ? lowStock.Take(5) : null; }
                        @if (lowTop != null && lowTop.Any())
                        {
                            <div class="space-y-2">
                                @foreach (var r in lowTop)
                                {
                                    decimal qty = (decimal)(r.Qty ?? 0m);
                                    var isZero = qty <= 0;
                                    <div class="flex items-center justify-between py-2.5 px-3 rounded-lg border @((isZero ? "border-rose-200 bg-rose-50" : "border-slate-200 hover:border-slate-300"))">
                                        <div class="flex items-center gap-3 min-w-0">
                                            <span class="inline-block px-2.5 py-1 rounded-md text-[11px] font-bold bg-slate-900 text-white font-mono shrink-0">@r.MaterialCode</span>
                                            <div class="min-w-0">
                                                <p class="text-sm font-semibold text-slate-900 truncate">@r.MaterialName</p>
                                                <p class="text-xs text-slate-500">Kho: <span class="font-semibold">@r.WarehouseName</span></p>
                                            </div>
                                        </div>
                                        <div class="text-right shrink-0">
                                            @if (isZero)
                                            {
                                                <span class="inline-flex items-center gap-1 px-2.5 py-1 rounded-md bg-rose-600 text-white text-xs font-bold">
                                                    <i class="bi bi-x-circle-fill"></i> Hết
                                                </span>
                                            }
                                            else
                                            {
                                                <div class="inline-flex items-baseline gap-1 px-2.5 py-1 rounded-md bg-slate-50 border border-slate-200">
                                                    <span class="text-base font-black text-slate-900">@FQty(qty)</span>
                                                    <span class="text-[10px] font-bold text-slate-500 uppercase">@r.Unit</span>
                                                </div>
                                            }
                                        </div>
                                    </div>
                                }
                            </div>
                        }
                        else
                        {
                            <div class="text-center py-10">
                                <div class="inline-flex items-center justify-center w-16 h-16 rounded-xl bg-emerald-100 mb-3">
                                    <i class="bi bi-check-circle-fill text-emerald-600 text-2xl"></i>
                                </div>
                                <p class="text-sm text-slate-600 font-semibold">Tất cả nguyên liệu đều đủ tồn kho.</p>
                            </div>
                        }
                    </div>
                </div>
            </div>

            <!-- Right Column (1/3) -->
            <div class="flex flex-col h-full space-y-8">
                <!-- Nhập / Xuất gần đây (compact tabs) -->
                <div class="bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden">
                    <div class="px-6 py-5 border-b border-slate-200 bg-gradient-to-r from-slate-50 to-transparent flex items-center justify-between">
                        <div class="flex items-center gap-3">
                            <div class="flex items-center justify-center w-10 h-10 rounded-xl bg-slate-100">
                                <i class="bi bi-clock-history text-slate-600"></i>
                            </div>
                            <h3 class="text-base font-black text-slate-900">Nhập / Xuất gần đây</h3>
                        </div>
                        <div class="inline-flex bg-slate-100 rounded-lg p-1">
                            <button type="button" class="tab-btn px-3 py-1.5 text-xs font-bold rounded-md bg-white text-slate-900 shadow" data-target="#tab-receipts">Phiếu nhập</button>
                            <button type="button" class="tab-btn px-3 py-1.5 text-xs font-bold rounded-md text-slate-600 hover:text-slate-900" data-target="#tab-issues">Phiếu xuất</button>
                        </div>
                    </div>
                    <div class="p-6">
                        @{ var receiptsTop = recentReceipts != null ? recentReceipts.Take(5) : null; var issuesTop = recentIssues != null ? recentIssues.Take(5) : null; }
                        <div id="tab-receipts" class="tab-pane space-y-3">
                            @if (receiptsTop != null && receiptsTop.Any())
                            {
                                foreach (var r in receiptsTop)
                                {
                                    int st = (int)(r.Status ?? 0);
                                    <div class="flex items-center justify-between p-3 rounded-lg border border-slate-100 hover:border-slate-200">
                                        <div class="flex items-center gap-3">
                                            <div class="flex items-center justify-center w-8 h-8 rounded-lg bg-emerald-100">
                                                <i class="bi bi-arrow-down-circle-fill text-emerald-600 text-sm"></i>
                                            </div>
                                            <div>
                                                <div class="flex items-center gap-2">
                                                    <h4 class="text-sm font-bold text-slate-900 font-mono">@r.Number</h4>
                                                    <span class="@StatusBadge(st)">@StatusText(st)</span>
                                                </div>
                                                <p class="text-xs text-slate-500 mt-1"><i class="bi bi-building"></i> <span class="font-semibold">@r.WarehouseName</span> • <i class="bi bi-calendar3"></i> @(((DateTime)r.CreatedAt).ToString("dd/MM/yyyy HH:mm"))</p>
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <div class="text-xs font-semibold text-slate-500"><i class="bi bi-box"></i> @FQty((decimal)(r.SumQty ?? 0m))</div>
                                            <div class="text-sm font-black text-emerald-600">@FAmount((decimal)(r.SumAmt ?? 0m))</div>
                                        </div>
                                    </div>
                                }
                                <div class="pt-2 text-right">
                                    <a asp-controller="StockReceipts" asp-action="Index" class="text-xs font-bold text-green-600 hover:text-green-700">Xem tất cả →</a>
                                </div>
                            }
                            else
                            {
                                <div class="text-center py-8 text-slate-500 text-sm">Chưa có phiếu nhập.</div>
                            }
                        </div>

                        <div id="tab-issues" class="tab-pane hidden space-y-3">
                            @if (issuesTop != null && issuesTop.Any())
                            {
                                foreach (var r in issuesTop)
                                {
                                    int st = (int)(r.Status ?? 0);
                                    <div class="flex items-center justify-between p-3 rounded-lg border border-slate-100 hover:border-slate-200">
                                        <div class="flex items-center gap-3">
                                            <div class="flex items-center justify-center w-8 h-8 rounded-lg bg-orange-100">
                                                <i class="bi bi-arrow-up-circle-fill text-orange-600 text-sm"></i>
                                            </div>
                                            <div>
                                                <div class="flex items-center gap-2">
                                                    <h4 class="text-sm font-bold text-slate-900 font-mono">@r.Number</h4>
                                                    <span class="@StatusBadge(st)">@StatusText(st)</span>
                                                </div>
                                                <p class="text-xs text-slate-500 mt-1"><i class="bi bi-building"></i> <span class="font-semibold">@r.WarehouseName</span> • <i class="bi bi-calendar3"></i> @(((DateTime)r.CreatedAt).ToString("dd/MM/yyyy HH:mm"))</p>
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <div class="text-xs font-semibold text-slate-500"><i class="bi bi-box"></i> @FQty((decimal)(r.SumQty ?? 0m))</div>
                                            <div class="text-sm font-black text-orange-600">@FAmount((decimal)(r.SumAmt ?? 0m))</div>
                                        </div>
                                    </div>
                                }
                                <div class="pt-2 text-right">
                                    <a asp-controller="StockIssues" asp-action="Index" class="text-xs font-bold text-green-600 hover:text-green-700">Xem tất cả →</a>
                                </div>
                            }
                            else
                            {
                                <div class="text-center py-8 text-slate-500 text-sm">Chưa có phiếu xuất.</div>
                            }
                        </div>
                    </div>
                </div>

                <!-- Stock by Warehouse -->
                <div class="bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden flex-1 flex flex-col">
                    <div class="px-8 py-6 border-b border-slate-200 bg-gradient-to-r from-slate-50 to-transparent">
                        <div class="flex items-center gap-4">
                            <div class="flex items-center justify-center w-12 h-12 rounded-xl bg-blue-100">
                                <i class="bi bi-bar-chart-fill text-green-600 text-xl"></i>
                            </div>
                            <div>
                                <h3 class="text-lg font-black text-slate-900">Phân bố tồn kho theo kho</h3>
                                <p class="text-sm text-slate-500 font-medium mt-0.5">Biểu đồ tồn kho trong từng kho hàng</p>
                            </div>
                        </div>
                    </div>
                    <div class="p-8 flex-1">
                        @if (stockByWh != null && stockByWh.Any())
                        {
                            <div class="space-y-6">
                                @foreach (var w in stockByWh)
                                {
                                    decimal q = (decimal)(w.Qty ?? 0m);
                                    var pct = maxStock > 0 ? Math.Round(q * 100m / maxStock, 1) : 0;
                                    
                                    <div class="group">
                                        <div class="flex items-center justify-between mb-3">
                                            <div class="flex items-center gap-3">
                                                <div class="flex items-center justify-center w-10 h-10 rounded-xl bg-gradient-to-br from-green-500 to-emerald-600 shadow-md">
                                                    <i class="bi bi-building text-white"></i>
                                                </div>
                                                <span class="text-base font-bold text-slate-900 group-hover:text-green-600 transition-colors">@w.WarehouseName</span>
                                            </div>
                                            <div class="text-right">
                                                <p class="text-2xl font-black text-slate-900">@FQty(q)</p>
                                                <p class="text-xs font-bold text-slate-500 mt-0.5">@pct% tổng tồn</p>
                                            </div>
                                        </div>
                                        <div class="relative w-full h-4 bg-slate-100 rounded-full overflow-hidden">
                                            <div class="absolute inset-0 bg-gradient-to-r from-green-500 via-emerald-500 to-green-600 rounded-full transition-all duration-1000 ease-out shadow-lg" 
                                                 style="width: @pct%"></div>
                                        </div>
                                    </div>
                                }
                            </div>
                        }
                        else
                        {
                            <div class="text-center py-16">
                                <i class="bi bi-inbox text-slate-300 text-5xl mb-4"></i>
                                <p class="text-slate-500">Chưa có dữ liệu tồn kho.</p>
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="mt-12 pt-8 border-t-2 border-slate-200">
            <div class="text-center space-y-3">
                <div class="inline-flex items-center gap-3 px-6 py-3 rounded-2xl bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-100">
                    <i class="bi bi-shield-check-fill text-emerald-600 text-2xl"></i>
                    <span class="text-base font-black text-slate-900">Hệ thống quản lý kho MNBEMART</span>
                </div>
                <div class="flex items-center justify-center gap-6 text-sm text-slate-500">
                    <span class="font-semibold">Phiên bản 2.0.0</span>
                    <span class="w-1.5 h-1.5 rounded-full bg-slate-300"></span>
                    <span>Cập nhật: @DateTime.Now.ToString("dd/MM/yyyy")</span>
                    <span class="w-1.5 h-1.5 rounded-full bg-slate-300"></span>
                    <span class="inline-flex items-center gap-2 text-emerald-600 font-semibold">
                        <span class="relative flex h-2.5 w-2.5">
                            <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"></span>
                            <span class="relative inline-flex rounded-full h-2.5 w-2.5 bg-emerald-500"></span>
                        </span>
                        Hệ thống hoạt động ổn định
                    </span>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function () {
  const btns = document.querySelectorAll('.tab-btn');
  btns.forEach(btn => {
    btn.addEventListener('click', () => {
      const target = btn.getAttribute('data-target');
      document.querySelectorAll('.tab-pane').forEach(p => p.classList.add('hidden'));
      const pane = document.querySelector(target);
      if (pane) pane.classList.remove('hidden');
      document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('bg-white','text-slate-900','shadow'));
      btn.classList.add('bg-white','text-slate-900','shadow');
    });
  });
});
</script>

<!-- Chart.js Library -->
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
<!-- Dashboard Charts -->
<script src="~/js/dashboard-charts.js" asp-append-version="true"></script>

@if (!User.IsInRole("Admin"))
{
    @await Html.PartialAsync("~/Views/StockReceipts/_CreateModal.cshtml", new MNBEMART.Models.StockReceipt())
    @await Html.PartialAsync("~/Views/StockIssues/_CreateModal.cshtml", new MNBEMART.Models.StockIssue())
}
